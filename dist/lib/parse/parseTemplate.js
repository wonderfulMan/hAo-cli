"use strict";exports.__esModule=!0;var cli_shared_utils_1=require("@lartplus/cli-shared-utils"),readChildDir=function(e,t){return e.map(function(e){var r=t+"/"+e;return cli_shared_utils_1.fs.statSync(r).isDirectory()&&e}).filter(Boolean)},diffTemplateDirname=function(t,e){var i=[];return e.forEach(function(r){var e=t.filter(function(e){return e===r.appName})[0];e&&i.push(e)}),i.filter(Boolean)},getTemplateNames=function(e,t){var i=[];return e.forEach(function(e){var r=t+"/"+e+"/index.ejs";cli_shared_utils_1.fs.existsSync(r)&&i.push({dirName:e,templatePath:r})}),i.filter(Boolean)},parseTemplate=function(e,r){var t,i,a=e.cwdPath+"/public",s=[];return!cli_shared_utils_1.fs.existsSync(a)||0<(t=cli_shared_utils_1.fs.readdirSync(a)).length&&(0<(i=readChildDir(t,a)).length&&(i=diffTemplateDirname(i,r),s=getTemplateNames(i,a))),s.length<1&&(cli_shared_utils_1.notice.error(["public目录下没有任何与之entries的文件或者目录为空，请检查"]),process.exit(0)),s};exports.parseTemplate=parseTemplate;