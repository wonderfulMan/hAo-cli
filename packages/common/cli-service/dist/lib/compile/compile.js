var _0x307b=['__esModule','mode','./server','notice','done','startServer','length','sent','dev','parseTemplate','pop','build','parseEntries','__generator','../parse/parseEntries','trys','then','function','push','assign','__assign','apply','__awaiter','label','../parse/parseEnv','GeneratorChainConfig','目前只支持dev/build模式','next','return','generatorBaseConfig','call','ops','hasOwnProperty','prototype','value','iterator','../config/generatorChainConfig','Generator\x20is\x20already\x20executing.','@lartplus/cli-shared-utils','throw'];(function(_0x54b2de,_0x307bdc){var _0x34530c=function(_0xf20377){while(--_0xf20377){_0x54b2de['push'](_0x54b2de['shift']());}};_0x34530c(++_0x307bdc);}(_0x307b,0x1c8));var _0x3453=function(_0x54b2de,_0x307bdc){_0x54b2de=_0x54b2de-0x0;var _0x34530c=_0x307b[_0x54b2de];return _0x34530c;};'use strict';var __assign=this&&this[_0x3453('0x4')]||function(){return(__assign=Object[_0x3453('0x3')]||function(_0x4b05a4){for(var _0x88b36a,_0x291041=0x1,_0x3d7c95=arguments[_0x3453('0x1e')];_0x291041<_0x3d7c95;_0x291041++)for(var _0x5716ed in _0x88b36a=arguments[_0x291041])Object[_0x3453('0x11')][_0x3453('0x10')][_0x3453('0xe')](_0x88b36a,_0x5716ed)&&(_0x4b05a4[_0x5716ed]=_0x88b36a[_0x5716ed]);return _0x4b05a4;})['apply'](this,arguments);},__awaiter=this&&this[_0x3453('0x6')]||function(_0x105c17,_0x10af7a,_0x45f26b,_0x4e4cb9){return new(_0x45f26b=_0x45f26b||Promise)(function(_0x320483,_0x5d7fa3){function _0x3cbfb1(_0x4a7028){try{_0x4f6f38(_0x4e4cb9[_0x3453('0xb')](_0x4a7028));}catch(_0x5f479a){_0x5d7fa3(_0x5f479a);}}function _0x4415d7(_0x52696d){try{_0x4f6f38(_0x4e4cb9['throw'](_0x52696d));}catch(_0x102c5b){_0x5d7fa3(_0x102c5b);}}function _0x4f6f38(_0x675d74){var _0x300e4c;_0x675d74[_0x3453('0x1c')]?_0x320483(_0x675d74[_0x3453('0x12')]):((_0x300e4c=_0x675d74[_0x3453('0x12')])instanceof _0x45f26b?_0x300e4c:new _0x45f26b(function(_0xca53b6){_0xca53b6(_0x300e4c);}))[_0x3453('0x0')](_0x3cbfb1,_0x4415d7);}_0x4f6f38((_0x4e4cb9=_0x4e4cb9[_0x3453('0x5')](_0x105c17,_0x10af7a||[]))[_0x3453('0xb')]());});},__generator=this&&this[_0x3453('0x25')]||function(_0x545efd,_0x12a499){var _0x22f230,_0x152931,_0x12c739,_0x58dfa6={'label':0x0,'sent':function(){if(0x1&_0x12c739[0x0])throw _0x12c739[0x1];return _0x12c739[0x1];},'trys':[],'ops':[]},_0x300ac3={'next':_0x3ee152(0x0),'throw':_0x3ee152(0x1),'return':_0x3ee152(0x2)};return _0x3453('0x1')==typeof Symbol&&(_0x300ac3[Symbol[_0x3453('0x13')]]=function(){return this;}),_0x300ac3;function _0x3ee152(_0x47e7a8){return function(_0x2e5835){return function(_0x2ce4a4){if(_0x22f230)throw new TypeError(_0x3453('0x15'));for(;_0x58dfa6;)try{if(_0x22f230=0x1,_0x152931&&(_0x12c739=0x2&_0x2ce4a4[0x0]?_0x152931[_0x3453('0xc')]:_0x2ce4a4[0x0]?_0x152931[_0x3453('0x17')]||((_0x12c739=_0x152931['return'])&&_0x12c739[_0x3453('0xe')](_0x152931),0x0):_0x152931[_0x3453('0xb')])&&!(_0x12c739=_0x12c739[_0x3453('0xe')](_0x152931,_0x2ce4a4[0x1]))[_0x3453('0x1c')])return _0x12c739;switch(_0x152931=0x0,_0x12c739&&(_0x2ce4a4=[0x2&_0x2ce4a4[0x0],_0x12c739['value']]),_0x2ce4a4[0x0]){case 0x0:case 0x1:_0x12c739=_0x2ce4a4;break;case 0x4:return _0x58dfa6['label']++,{'value':_0x2ce4a4[0x1],'done':!0x1};case 0x5:_0x58dfa6[_0x3453('0x7')]++,_0x152931=_0x2ce4a4[0x1],_0x2ce4a4=[0x0];continue;case 0x7:_0x2ce4a4=_0x58dfa6[_0x3453('0xf')]['pop'](),_0x58dfa6[_0x3453('0x27')][_0x3453('0x22')]();continue;default:if(!(_0x12c739=0x0<(_0x12c739=_0x58dfa6[_0x3453('0x27')])[_0x3453('0x1e')]&&_0x12c739[_0x12c739[_0x3453('0x1e')]-0x1])&&(0x6===_0x2ce4a4[0x0]||0x2===_0x2ce4a4[0x0])){_0x58dfa6=0x0;continue;}if(0x3===_0x2ce4a4[0x0]&&(!_0x12c739||_0x2ce4a4[0x1]>_0x12c739[0x0]&&_0x2ce4a4[0x1]<_0x12c739[0x3])){_0x58dfa6[_0x3453('0x7')]=_0x2ce4a4[0x1];break;}if(0x6===_0x2ce4a4[0x0]&&_0x58dfa6[_0x3453('0x7')]<_0x12c739[0x1]){_0x58dfa6[_0x3453('0x7')]=_0x12c739[0x1],_0x12c739=_0x2ce4a4;break;}if(_0x12c739&&_0x58dfa6[_0x3453('0x7')]<_0x12c739[0x2]){_0x58dfa6[_0x3453('0x7')]=_0x12c739[0x2],_0x58dfa6[_0x3453('0xf')][_0x3453('0x2')](_0x2ce4a4);break;}_0x12c739[0x2]&&_0x58dfa6[_0x3453('0xf')][_0x3453('0x22')](),_0x58dfa6['trys'][_0x3453('0x22')]();continue;}_0x2ce4a4=_0x12a499[_0x3453('0xe')](_0x545efd,_0x58dfa6);}catch(_0x48b955){_0x2ce4a4=[0x6,_0x48b955],_0x152931=0x0;}finally{_0x22f230=_0x12c739=0x0;}if(0x5&_0x2ce4a4[0x0])throw _0x2ce4a4[0x1];return{'value':_0x2ce4a4[0x0]?_0x2ce4a4[0x1]:void 0x0,'done':!0x0};}([_0x47e7a8,_0x2e5835]);};}};exports[_0x3453('0x18')]=!0x0;var cli_shared_utils_1=require(_0x3453('0x16')),parseEntries_1=require(_0x3453('0x26')),parseEnv_1=require(_0x3453('0x8')),parseTemplate_1=require('../parse/parseTemplate'),parseMerge_1=require('../parse/parseMerge'),generatorChainConfig_1=require(_0x3453('0x14')),server_1=require(_0x3453('0x1a')),validate=function(_0x299c7a){return'dev'==_0x299c7a||_0x3453('0x23')==_0x299c7a||(cli_shared_utils_1[_0x3453('0x1b')]['error']([_0x3453('0xa')]),!0x1);},compile=function(_0x479840,_0xaddb89){return __awaiter(void 0x0,void 0x0,void 0x0,function(){var _0x46703e,_0x5304ad,_0x42f469,_0x3c01b0,_0x15be3e,_0x4c0ed7,_0x35df39,_0x154ecc,_0x4bf18;return __generator(this,function(_0x4bb41d){switch(_0x4bb41d[_0x3453('0x7')]){case 0x0:return _0x46703e=_0x479840[_0x3453('0x19')],validate(_0x46703e)?[0x4,parseEnv_1['parseEnv'](_0x479840,_0xaddb89)]:[0x3,0x6];case 0x1:return _0x5304ad=_0x4bb41d[_0x3453('0x1f')](),[0x4,parseEntries_1[_0x3453('0x24')](_0xaddb89)];case 0x2:return _0x42f469=_0x4bb41d['sent'](),[0x4,parseTemplate_1[_0x3453('0x21')](_0xaddb89,_0x42f469)];case 0x3:return _0x3c01b0=_0x4bb41d[_0x3453('0x1f')](),_0x15be3e=parseMerge_1['parseMerge'](_0x42f469,_0x3c01b0),_0x4c0ed7=__assign(__assign({},_0xaddb89),{'env':_0x5304ad,'mode':_0x46703e}),_0x35df39=new generatorChainConfig_1[(_0x3453('0x9'))](_0x4c0ed7,_0x15be3e),_0x154ecc=_0x35df39[_0x3453('0xd')](),(_0x4bf18=_0x4c0ed7['configFile']['webpackChain'])&&_0x3453('0x1')==typeof _0x4bf18?[0x4,_0x4bf18(_0x154ecc)]:[0x3,0x5];case 0x4:_0x4bb41d[_0x3453('0x1f')](),_0x4bb41d[_0x3453('0x7')]=0x5;case 0x5:_0x3453('0x20')===_0x46703e&&server_1[_0x3453('0x1d')](_0x154ecc,_0x4c0ed7,_0x15be3e),_0x4bb41d[_0x3453('0x7')]=0x6;case 0x6:return[0x2];}});});};exports['compile']=compile;